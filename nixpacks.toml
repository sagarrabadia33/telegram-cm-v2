# Nixpacks configuration for Railway deployment
# Next.js frontend only - Python sync scripts run locally only

# Explicitly use only Node provider - disable Python auto-detection from requirements.txt
providers = ["node"]

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
# Remove root package files that confuse Next.js/Turbopack, then install frontend deps
cmds = ["rm -f /app/package.json /app/package-lock.json && cd frontend && npm ci --include=dev"]

[phases.build]
cmds = ["cd frontend && npm run build"]

[start]
cmd = "cd frontend && npm run start:production"
